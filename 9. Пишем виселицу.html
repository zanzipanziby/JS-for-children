<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Игра "Виселица"</title>
</head>
<body>
    <script>
        //Знакомство с новыми коммандами
        /*let yourName = prompt('Как вас зовут');
        console.log('Привет, ' + yourName);
        let yourLikesCats = confirm('Тебе нравятся киски?');
        if (yourLikesCats) {
            console.log('Ты ведь понимаешь, что разговор не о кошках?');
        } else {
            console.log('Грязный пидр!!!');
        };
        alert('JavaScript is cool');
        */

        //Проектирование игры

        //Программа должна выполнять следующие действия:
        //1. Случайным образом выбирать слово
        //2. Запрашивать у игрока вариант ответа(букву)
        //3. Завершать игру по желанию игрока
        //4. Проверять, является ли введенный ответ буквой
        //5. Вести учёт угаданных букв
        //6. Показывать игроку, сколько букв он угадал и сколько предстоит угадать 
        //7. Завершать игру, если слово отгадано
        


        //Чтобы лучше представить структуру будущей программы воспользуемся псевдокодом.

        //Используем псевдокод для проектирования игры
        /*
        Выбрать случайное слово
        Пока слово не угадано {
            Показать игроку текущее состояние игры
            Запросить у игрока вариант ответа
            Если игрок хочет выйти из игры {
                Выйти из игры 
            }
            Иначе если вариант ответа - не одиночная буква {
                Сообщить игроку, что он должен ввести букву
            }
            Иначе {
                Если такая буква есть в слове {
                    Обновить состояние игры, подставив новую букву
                }
            }
        }
        Поздравить игрока с победой!
        */


        let words = [
            'программа',
            'макака',
            'прекрасный',
            'оладушек',
            'ручка',
            'дверь',
            'стол',
            'кухня',
            'глобус',
            'бутылка',
            'банка',
            'крышка',
            'стакан',
            'пульт',
            'телефон',
            'труба'
            
        ];
        let word = words[Math.floor(Math.random() * words.length)];

        let answerArray = [];
        for (i = 0; i < word.length; i++) {
            answerArray[i] = '_';
        } //создаём массив с пробелами на местах неотгаданных букв
        let remainingLetters = word.length; //сколько букв осталось отгадать

        //Програмируем игровой цикл

        while (remainingLetters > 0) {
            alert(answerArray.join(' '));
            let guess = prompt('Угадай букву или нажми Отмена для выхода из игры');
            if (guess === null) {
                break;
            } else if (guess.length !== 1) {
                alert('Пожалуйста, введите только одну букву.');
            } else {
                for (let j = 0; j < word.length; j++) {
                    if (word[j] === guess) {
                        answerArray[j] = guess;
                        remainingLetters--;
                    }
                }
            }
        }
        alert(answerArray.join(' '));
        alert('Отлично! Было загадано слово ' + word);

    </script>
</body>
</html>